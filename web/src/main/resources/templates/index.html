<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{./layouts/base}">
<body>

<th:block layout:fragment="css">

</th:block>

<div layout:fragment="content" class="container">
	<h1>스프링부트로 시작하는 웹 서비스 Ver.2</h1>
	<div class="col-md-12">
		<div class="row">
			<div class="col-md-6">
				<a href="/posts/save" role="button" class="btn btn-primary">글 등록</a>
				<th:block th:if="${member}">
					Logged in as: <span id="user" th:text="${member.name}">jaesay</span>
					<a href="/logout" class="btn btn-info active" role="button">Logout</a>
				</th:block>
				<th:block th:unless="${member}">
					<a href="/oauth2/authorization/google" class="btn btn-success active" role="button">Google Login</a>
					<a href="/oauth2/authorization/naver" class="btn btn-secondary active" role="button">Naver Login</a>
				</th:block>
			</div>
		</div>
	</div>

	<!-- 목록 출력 영역 -->
	<table class="table table-horizontal table-bordered">
		<thead class="thead-strong">
		<tr>
			<th>게시글번호</th>
			<th>제목</th>
			<th>작성자</th>
			<th>최종수정일</th>
		</tr>
		</thead>
		<tbody id="tbody">
		<tr th:each="post : ${posts}">
			<td th:text="${post.id}">ID</td>
			<td><a th:href="@{'/posts/update/' + ${post.id}}" th:text="${post.title}">Title</a></td>
			<td th:text="${post.author}">Author</td>
			<td th:text="${post.modifiedDate}">2020.01.17</td>
		</tr>
		</tbody>
	</table>
</div>

<th:block layout:fragment="script">
	<script th:inline="javascript">

	</script>
</th:block>

</body>
</html>